{
  "type": "tabs",
  "items": {
    "_general": {
      "type": "panel",
      "label": "Allgemein",
      "items": {
        "_serverHeader": {
          "type": "header",
          "text": "Server-Ports",
          "size": 4,
          "sm": 12
        },
        "httpsPort": {
          "type": "number",
          "label": "HTTPS Port",
          "sm": 12,
          "md": 4,
          "min": 1,
          "max": 65535,
          "help": "Port für den HTTPS Reverse Proxy (Standard: 443)."
        },
        "httpPort": {
          "type": "number",
          "label": "HTTP Port",
          "sm": 12,
          "md": 4,
          "min": 0,
          "max": 65535,
          "help": "Port f\u00fcr den HTTP-Server (Standard: 80). Backends ohne Zertifikat werden hier direkt bedient. Backends mit Zertifikat werden auf HTTPS umgeleitet."
        },
        "acmePort": {
          "type": "number",
          "label": "ACME Adapter Port",
          "sm": 12,
          "md": 4,
          "min": 0,
          "help": "Interner Port des ACME-Adapters für HTTP-01-Challenge-Weiterleitung. 0 = Weiterleitung deaktiviert."
        },
        "_securityHeader": {
          "type": "header",
          "text": "Sicherheit",
          "size": 4,
          "sm": 12
        },
        "enableHSTS": {
          "type": "checkbox",
          "label": "HSTS aktivieren (Strict-Transport-Security)",
          "sm": 12,
          "md": 4
        },
        "hstsMaxAge": {
          "type": "number",
          "label": "HSTS max-age (Sekunden)",
          "sm": 12,
          "md": 4,
          "min": 0,
          "help": "Standard: 31536000 (1 Jahr)"
        },
        "_certHeader": {
          "type": "header",
          "text": "Zertifikat-Überwachung",
          "size": 4,
          "sm": 12
        },
        "certCheckHours": {
          "type": "number",
          "label": "Prüfintervall (Stunden)",
          "sm": 12,
          "md": 4,
          "min": 1,
          "help": "Wie oft Zertifikate auf Änderungen geprüft werden. Bei Erneuerung werden die SNI-Kontexte automatisch aktualisiert."
        },
        "certWarnDays": {
          "type": "number",
          "label": "Ablaufwarnung (Tage)",
          "sm": 12,
          "md": 4,
          "min": 0,
          "help": "Warnung im Log wenn ein Zertifikat in weniger als X Tagen abläuft. 0 = deaktiviert."
        },
        "_loggingHeader": {
          "type": "header",
          "text": "Logging",
          "size": 4,
          "sm": 12
        },
        "logRequests": {
          "type": "checkbox",
          "label": "Alle Anfragen protokollieren",
          "sm": 12,
          "md": 6,
          "help": "Loggt jede eingehende Anfrage (IP, Host, URL). Start/Stop- und Sicherheits-Meldungen werden immer geloggt."
        }
      }
    },
    "_backends": {
      "type": "panel",
      "label": "Backends",
      "items": {
        "_info": {
          "type": "header",
          "text": "Proxy-Backends (Virtual Hosts)",
          "size": 4,
          "sm": 12
        },
        "backends": {
          "type": "table",
          "sm": 12,
          "uniqueColumns": ["hostname"],
          "items": [
            {
              "type": "checkbox",
              "attr": "enabled",
              "width": "6%",
              "title": "Aktiv",
              "default": true
            },
            {
              "type": "text",
              "attr": "hostname",
              "width": "18%",
              "title": "Hostname",
              "placeholder": "example.domain.de"
            },
            {
              "type": "text",
              "attr": "target",
              "width": "20%",
              "title": "Ziel-URL",
              "placeholder": "http://127.0.0.1:3000"
            },
            {
              "type": "selectSendTo",
              "command": "getCertificateCollections",
              "attr": "certificate",
              "width": "13%",
              "title": "Zertifikat"
            },
            {
              "type": "text",
              "attr": "allowedNetworks",
              "width": "25%",
              "title": "Erlaubte Netze",
              "placeholder": "192.168.0.0/24, fd00::/8"
            },
            {
              "type": "checkbox",
              "attr": "changeOrigin",
              "width": "8%",
              "title": "Change Origin",
              "default": false
            }
          ]
        },
        "_help": {
          "type": "staticText",
          "sm": 12,
          "text": "**Hostname**: Domain die per DNS auf diesen Server zeigt. **Ziel-URL**: Backend-Adresse (http://IP:Port). **Zertifikat**: Zertifikat aus `system.certificates`. Mit Zertifikat = HTTPS + HTTP\u2192HTTPS Redirect. Ohne Zertifikat = nur HTTP (kein HTTPS f\u00fcr diesen Host). **Erlaubte Netze**: Kommaseparierte CIDR-Netzwerke/IPs (IPv4 + IPv6). Wenn leer, ist der Zugriff von \u00fcberall erlaubt. **Change Origin**: Host-Header auf Ziel-IP umschreiben."
        }
      }
    }
  }
}
